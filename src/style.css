:root {
  font-family: system-ui, Avenir, Helvetica, Arial, sans-serif;
  line-height: 1.5;
  font-weight: 400;

  color-scheme: light dark;
  color: rgba(255, 255, 255, 0.87);
  background-color: #242424;

  font-synthesis: none;
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;

  /* ===== Brand Colors ===== */
  --color-primary: #646cff; /* Primary brand color */
  --color-primary-hover: #535bf2; /* Primary hover state */
  --color-secondary: #8b5cf6; /* Secondary/purple accent */
  --color-success: #22c55e; /* Green for success states */
  --color-success-alt: #10b981; /* Alternate success green */
  --color-success-dark: #4caf50; /* Darker success green */
  --color-success-darker: #45a049; /* Even darker success green */
  --color-error: #ef4444; /* Red for errors */
  --color-warning: #eab308; /* Yellow for warnings */
  --color-info: #3b82f6; /* Blue for info */
  --color-info-alt: #1976d2; /* Alternate info blue */
  --color-link: #0066cc; /* Link color */

  /* ===== Diff Status Colors ===== */
  --color-missing: #ef4444; /* Red for missing keys */
  --color-identical: #eab308; /* Yellow for identical values */
  --color-different: #22c55e; /* Green for different values */
  --color-different-alt: #16a34a; /* Alternate green for different values */

  /* ===== Text Colors ===== */
  --color-text-primary: rgba(255, 255, 255, 0.87); /* Primary text */
  --color-text-secondary: rgba(255, 255, 255, 0.7); /* Secondary text */
  --color-text-tertiary: rgba(255, 255, 255, 0.6); /* Tertiary text */
  --color-text-muted: rgba(255, 255, 255, 0.5); /* Muted text */
  --color-text-disabled: rgba(255, 255, 255, 0.3); /* Disabled text */
  --color-text-dark: #000000; /* Pure black text */
  --color-text-dark-secondary: #666666; /* Dark secondary text */

  /* ===== Background Colors ===== */
  --bg-primary: #ffffff; /* Primary background (white) */
  --bg-secondary: #fafafa; /* Secondary background (light gray) */
  --bg-tertiary: #f5f5f5; /* Tertiary background (lighter gray) */
  --bg-quaternary: #e8e8e8; /* Quaternary background (even lighter gray) */
  --bg-overlay: rgba(0, 0, 0, 0.2); /* Overlay background */
  --bg-overlay-light: rgba(0, 0, 0, 0.02); /* Very light overlay */
  --bg-overlay-lighter: rgba(0, 0, 0, 0.03); /* Lighter overlay */

  /* ===== Diff Highlighting Backgrounds ===== */
  --bg-missing: rgba(239, 68, 68, 0.1); /* Missing key highlight */
  --bg-missing-alt: #ffebee; /* Alternate missing key highlight */
  --bg-identical: rgba(234, 179, 8, 0.1); /* Identical value highlight */
  --bg-identical-alt: #fff9c4; /* Alternate identical value highlight */
  --bg-different: rgba(34, 197, 94, 0.1); /* Different value highlight (green) */
  --bg-different-alt: #dcfce7; /* Alternate different value highlight (light green) */
  --bg-temporary: rgba(59, 130, 246, 0.1); /* Temporary key highlight (blue) */
  --bg-temporary-alt: #e3f2fd; /* Alternate temporary key highlight (light blue) */
  --bg-modified: rgba(59, 130, 246, 0.1); /* Modified value highlight */
  --bg-success: rgba(16, 185, 129, 0.1); /* Success state background */
  --bg-error: rgba(239, 68, 68, 0.1); /* Error state background */
  --bg-primary-faded: rgba(100, 108, 255, 0.05); /* Faded primary background */
  --bg-primary-faded-alt: rgba(100, 108, 255, 0.1); /* Alternate faded primary background */

  /* ===== Border Colors ===== */
  --border-primary: rgba(255, 255, 255, 0.1); /* Primary border */
  --border-secondary: rgba(255, 255, 255, 0.2); /* Secondary border */
  --border-tertiary: rgba(255, 255, 255, 0.3); /* Tertiary border */
  --border-light: rgba(0, 0, 0, 0.05); /* Very light border */
  --border-medium: rgba(0, 0, 0, 0.1); /* Medium border */
  --border-dark: rgba(0, 0, 0, 0.2); /* Dark border */
  --border-success: rgba(16, 185, 129, 0.3); /* Success border */
  --border-error: rgba(239, 68, 68, 0.3); /* Error border */
  --border-primary-color: var(--color-primary); /* Primary color border */
  --border-info: rgba(59, 130, 246, 0.4); /* Info border */

  /* ===== Gradient Colors ===== */
  --gradient-primary: linear-gradient(
    135deg,
    #646cff 0%,
    #8b5cf6 100%
  ); /* Primary gradient */
  --gradient-header: linear-gradient(
    135deg,
    rgba(100, 108, 255, 0.1) 0%,
    rgba(100, 108, 255, 0.05) 100%
  ); /* Header gradient */

  /* ===== Spacing ===== */
  --spacing-xs: 0.25rem;
  --spacing-sm: 0.5rem;
  --spacing-md: 1rem;
  --spacing-lg: 1.5rem;
  --spacing-xl: 2rem;

  /* ===== Border Radius ===== */
  --radius-sm: 4px;
  --radius-md: 8px;
  --radius-lg: 12px;
}

a {
  font-weight: 500;
  color: var(--color-primary);
  text-decoration: inherit;
}
a:hover {
  color: var(--color-primary-hover);
}

body {
  margin: 0;
  min-width: 320px;
  min-height: 100vh;
  display: flex;
  flex-direction: column;
}

h1 {
  font-size: 3.2em;
  line-height: 1.1;
}

button {
  border-radius: 8px;
  border: 1px solid transparent;
  padding: 0.6em 1.2em;
  font-size: 1em;
  font-weight: 500;
  font-family: inherit;
  background-color: #1a1a1a;
  cursor: pointer;
  transition: border-color 0.25s;
}
button:hover {
  border-color: var(--color-primary);
}
button:focus,
button:focus-visible {
  outline: 4px auto -webkit-focus-ring-color;
}

.card {
  padding: 2em;
}

#app {
  width: 100%;
  min-height: 100vh;
  display: flex;
  flex-direction: column;
}

/* Navigation Styles */
nav {
  display: flex;
  gap: var(--spacing-md);
  padding: var(--spacing-md) var(--spacing-lg);
  border-bottom: 1px solid var(--border-primary);
  background-color: var(--bg-overlay);
}

nav a {
  padding: var(--spacing-sm) var(--spacing-md);
  border-radius: var(--radius-sm);
  transition: background-color 0.2s;
}

nav a:hover {
  background-color: var(--border-primary);
}

nav a.active {
  background-color: var(--color-primary);
  color: white;
}

/* Tree Viewer Styles */
.tree-viewer {
  font-family: 'Courier New', monospace;
  font-size: 0.9rem;
  padding: var(--spacing-md);
}

.tree-node {
  margin-left: var(--spacing-lg);
  padding: var(--spacing-xs) 0;
}

.tree-node-key {
  font-weight: 600;
  cursor: pointer;
  user-select: none;
}

.tree-node-value {
  margin-left: var(--spacing-sm);
  color: var(--color-text-secondary);
}

.tree-node-expandable::before {
  content: 'â–¶';
  display: inline-block;
  margin-right: var(--spacing-xs);
  transition: transform 0.2s;
  font-size: 0.8em;
}

.tree-node-expanded::before {
  transform: rotate(90deg);
}

/* Diff Color Coding */
.diff-missing {
  background-color: var(--bg-missing);
  border-left: 3px solid var(--color-missing);
  padding-left: var(--spacing-sm);
}

.diff-identical {
  background-color: var(--bg-identical);
  border-left: 3px solid var(--color-identical);
  padding-left: var(--spacing-sm);
}

.diff-different {
  background-color: var(--bg-different);
}

.diff-modified {
  background-color: var(--bg-modified);
  border-left: 3px solid #3b82f6;
  padding-left: var(--spacing-sm);
}

/* Comparison View Styles */
.comparison-view {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: var(--spacing-lg);
  padding: var(--spacing-lg);
  flex: 1;
}

.comparison-panel {
  border: 1px solid var(--border-primary);
  border-radius: var(--radius-md);
  padding: var(--spacing-md);
  overflow: auto;
  background-color: var(--bg-overlay);
}

.comparison-panel-header {
  font-weight: 600;
  margin-bottom: var(--spacing-md);
  padding-bottom: var(--spacing-sm);
  border-bottom: 1px solid var(--border-primary);
}

/* Responsive Layout */
@media (max-width: 768px) {
  .comparison-view {
    grid-template-columns: 1fr;
    gap: var(--spacing-md);
  }

  nav {
    flex-direction: column;
    gap: var(--spacing-sm);
  }

  .tree-node {
    margin-left: var(--spacing-md);
  }
}

@media (prefers-color-scheme: light) {
  :root {
    color: #213547;
    background-color: #ffffff;

    /* ===== Light Mode Color Adjustments ===== */
    --color-missing: #dc2626;
    --color-identical: #ca8a04;
    --color-different: #16a34a;
    --color-different-alt: #15803d;

    /* Text colors for light mode */
    --color-text-primary: rgba(0, 0, 0, 0.9);
    --color-text-secondary: rgba(0, 0, 0, 0.7);
    --color-text-tertiary: rgba(0, 0, 0, 0.6);
    --color-text-muted: rgba(0, 0, 0, 0.5);
    --color-text-disabled: rgba(0, 0, 0, 0.3);

    /* Background adjustments */
    --bg-overlay: rgba(0, 0, 0, 0.05);
    --bg-overlay-light: rgba(0, 0, 0, 0.02);
    --bg-overlay-lighter: rgba(0, 0, 0, 0.03);

    /* Border adjustments */
    --border-primary: rgba(0, 0, 0, 0.1);
    --border-secondary: rgba(0, 0, 0, 0.2);
    --border-light: rgba(0, 0, 0, 0.05);
    --border-medium: rgba(0, 0, 0, 0.1);
    --border-dark: rgba(0, 0, 0, 0.2);

    /* Diff highlighting adjustments */
    --bg-missing: rgba(220, 38, 38, 0.1);
    --bg-identical: rgba(202, 138, 4, 0.1);
    --bg-modified: rgba(59, 130, 246, 0.1);

    /* Gradient adjustments */
    --gradient-header: linear-gradient(
      135deg,
      rgba(100, 108, 255, 0.1) 0%,
      rgba(100, 108, 255, 0.05) 100%
    );
  }

  a:hover {
    color: #747bff;
  }

  button {
    background-color: #f9f9f9;
  }

  nav {
    border-bottom-color: var(--border-primary);
    background-color: var(--bg-overlay);
  }

  .comparison-panel {
    border-color: var(--border-primary);
    background-color: var(--bg-overlay-light);
  }

  .tree-node-value {
    color: var(--color-text-tertiary);
  }
}
